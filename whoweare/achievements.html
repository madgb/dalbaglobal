<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>d`Alba GLOBAL</title>
    <!-- Favicon -->
    <link rel="icon" href="../_img/common/favicon.png" />
    <!-- OpenGraph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="d`Alba GLOBAL" />
    <meta property="og:description" content="d`Alba GLOBAL" />
    <meta property="og:image" content="../_img/common/opengraph.png" />
    <!-- jQuery CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <!-- DateTimePicker -->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css" />
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
    <!-- swiper -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <!-- NiceSelect -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/css/nice-select.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/js/jquery.nice-select.min.js"></script>
    <!-- AOS 라이브러리 불러오기-->
    <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <!-- fullpage -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.0.9/fullpage.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.0.9/fullpage.min.css" />
    <!-- chartjs -->

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <!-- Custom CSS & JS -->
    <link rel="stylesheet" href="../_css/reset.css" />
    <link rel="stylesheet" href="../_css/setting.css" />
    <link rel="stylesheet" href="../_css/common.css" />
    <link rel="stylesheet" href="../_css/sub.css" />
    <link rel="stylesheet" href="../_css/attribute.css" />
    <link rel="stylesheet" href="../_css/subpage.css" />
    <script src="../_js/common.js" defer></script>
  </head>

  <body>
    <div id="wrap">
      <header class="header white">
        <div class="header__inner">
          <button type="button" class="ham_btn"></button>
          <a href="../index.php" class="logo">
            <img src="../_img/common/logo.svg" alt="" />
          </a>
          <ul class="menu">
            <li><a href="/">Home</a></li>
            <li class="menu_first menu_depth">
              Who we are
              <ul class="sub_menu">
                <li><a href="./heritage.html">HERITAGE</a></li>
                <li><a href="./campaigns.html">CAMPAIGNS</a></li>
                <li><a href="./brands.html">BRANDS</a></li>
                <li><a href="./Innovations.html">INNOVATIONS</a></li>
                <li><a href="./achievements.html">ACHIEVEMENTS</a></li>
              </ul>
            </li>
            <li><a href="../main/history.html">History</a></li>
            <li class="menu_depth">
              Investors
              <ul class="sub_menu">
                <li><a href="">IR Material</a></li>
                <li><a href="">Announcements</a></li>
              </ul>
            </li>
            <li><a href="../main/ESG.html">ESG</a></li>
            <li><a href="../main/newsroom.html">Newsroom</a></li>
            <li><a href="../main/Shareholders_Club.html">Shareholders</a>' Club</li>
          </ul>
          <div class="global">
            <button type="button" class="global_btn">
              <span>KOR</span>
              <p></p>
            </button>
            <ul class="global_ul">
              <li class="on">KOR</li>
              <li>ENG</li>
            </ul>
          </div>
        </div>
      </header>
      <!--  헤더 햄버거 버튼 눌렀을 때 나오는 사이드바 -->
      <div class="pc_sidebar">
        <div class="pc_sidebar__inner">
          <div class="pc_sidebar__header"><button type="button" class="x_btn"></button></div>
          <nav class="p_sidebar">
            <div class="global_mo">
              <button type="button" class="global_btn_mo">
                KOR
                <p></p>
              </button>
              <ul class="global_ul_mo">
                <li class="on">KOR</li>
                <li>ENG</li>
              </ul>
            </div>
            <ul class="sidebar_ul">
              <li><a href="/">Home</a></li>
              <li>
                <button class="btn-lnb whoweare">
                  Who we are
                  <p></p>
                </button>
                <ul class="lnb__list">
                  <li><a href="./heritage.html">HERITAGE</a></li>
                  <li><a href="./campaigns.html">CAMPAIGNS</a></li>
                  <li><a href="./brands.html">BRANDS</a></li>
                  <li><a href="./Innovations.html">INNOVATIONS</a></li>
                  <li><a href="./achievements.html">ACHIEVEMENTS</a></li>
                </ul>
              </li>
              <li><a href="../main/history.html">History</a></li>
              <li>
                <button class="btn-lnb">
                  Investors
                  <p></p>
                </button>
                <ul class="lnb__list">
                  <li><a href="../main/ir_material.html">IR Material</a></li>
                  <li><a href="../main/announcements.html">Announcements</a></li>
                </ul>
              </li>
              <li><a href="../main/ESG.html">ESG</a></li>
              <li><a href="../main/newsroom.html">Newsroom</a></li>
              <li><a href="../main/Shareholders_Club.html">Shareholders' Club</a></li>
            </ul>
          </nav>
        </div>
      </div>
      <main class="main">
        <div id="fullpage">
          <div class="section">
            <div class="achieve_korea">
              <h1>Achievements</h1>
              <div class="achieve_box">
                <div class="item">
                  <p>누적 매출</p>
                  <!-- 숫자 올라가는 인터랙션 넣기 -->
                  <h2>
                    <span class="num">9000</span>
                    억 원 +
                  </h2>
                </div>
                <div class="item">
                  <p>누적 수출</p>
                  <h2><span class="num">2000</span>억원 +</h2>
                </div>
                <div class="item">
                  <p>스프레이 세럼 누적 판매 수</p>
                  <h2><span class="num_B">5,000</span>만개</h2>
                </div>
                <div class="item">
                  <p>연간 매출 성장률</p>
                  <h2><span class="num">206</span>%</h2>
                </div>
              </div>
              <div class="canvas_box"><canvas id="canvas" class="korea_chart" width="1100"></canvas></div>
            </div>
          </div>
          <div class="section">
            <div class="global_inner">
              <div class="achieve_global">
                <h2>Achievements</h2>
                <span class="sub_txt">Global Business Growth CAGR 167%</span>
                <div class="global_img">
                  <img src="../_img/common/russia_global.png" alt="" class="pc_show" />
                  <img src="../_img/common/russia_global_mo.png" alt="" class="mo_show" />
                </div>
              </div>
            </div>
          </div>
          <div class="section">
            <div class="global_inner">
              <div class="achieve_global">
                <h2>Achievements</h2>
                <span class="sub_txt">Global Business Growth CAGR 831%</span>
                <div class="global_img">
                  <img src="../_img/common/europe_global.png" alt="" class="pc_show" />
                  <img src="../_img/common/europe_global_mo.png" alt="" class="mo_show" />
                </div>
              </div>
            </div>
          </div>
          <div class="section">
            <div class="global_inner">
              <div class="achieve_global">
                <h2>Achievements</h2>
                <span class="sub_txt">Global Business Growth CAGR 335%</span>
                <div class="global_img">
                  <img src="../_img/common/japan_global.png" alt="" class="pc_show" />
                  <img src="../_img/common/japan_global_mo.png" alt="" class="mo_show" />
                </div>
              </div>
            </div>
          </div>
          <div class="section">
            <div class="global_inner">
              <div class="achieve_global">
                <h2>Achievements</h2>
                <span class="sub_txt">Global Business Growth CAGR 165%</span>
                <div class="global_img">
                  <img src="../_img/common/america_global.png" alt="" class="pc_show" />
                  <img src="../_img/common/america_global_mo.png" alt="" class="mo_show" />
                </div>
              </div>
            </div>
          </div>
          <div class="section">
            <div class="global_inner">
              <div class="achieve_global">
                <h2>Achievements</h2>
                <span class="sub_txt">Global Business Growth CAGR 620%</span>
                <div class="global_img">
                  <img src="../_img/common/ASEAN_global.png" alt="" class="pc_show" />
                  <img src="../_img/common/ASEAN_global_mo.png" alt="" class="mo_show" />
                </div>
              </div>
            </div>
          </div>
          <div class="section">
            <div class="global_inner">
              <div class="achieve_global">
                <h2>Achievements</h2>
                <span class="sub_txt">Global Business Growth CAGR 1,339%</span>
                <div class="global_img">
                  <img src="../_img/common/china_global.png" alt="" class="pc_show" />
                  <img src="../_img/common/china_global_mo.png" alt="" class="mo_show" />
                </div>
              </div>
            </div>
          </div>

          <div class="section fp-auto-height section_footer">
            <footer class="footer">
              <div class="footer__inner">
                <div class="footer_logo"><img src="../_img/common/logo_footer.svg" alt="" /></div>
                <p>
                  주식회사 달바글로벌 서울특별시 마포구 마포대로 78, 12층<br class="mo_show" />
                  (도화동, 자람빌딩) (04031)<br />
                  CEO 반성연. Hosting by NHN Commerce Tel 02-332-7727.<br class="mo_show" /> Email dalba@dalba.com Information manager 유명한<br />
                  Business Registeration No. 840-88-00333. <br class="mo_show" />Online Sales Reg No. 제 2016-서울마포-0721호<br />
                  © Bmonument.
                </p>
              </div>
            </footer>
          </div>
        </div>
      </main>
    </div>
  </body>
  <script>
    new fullpage("#fullpage", {
      autoScrolling: true,
      scrollHorizontally: true,
      scrollOverflow: true,
      autoScrolling: true,
      fitToSection: true,
    });

    $(function () {
      $(".num").each(function () {
        $(this)
          .prop("Counter", 0)
          .animate(
            {
              Counter: $(this).text(),
            },
            {
              duration: 3000,
              easing: "swing",
              step: function (now) {
                $(this).text(Math.ceil(now));
              },
            }
          );
      });
    });
    $(function () {
      $(".num_B").each(function () {
        const $this = $(this);
        const targetNum = parseInt($this.text().replace(/,/g, ""), 10); // 콤마 제거

        $this.prop("Counter", 0).animate(
          {
            Counter: targetNum,
          },
          {
            duration: 3000,
            easing: "swing",
            step: function (now) {
              $this.text(Math.ceil(now).toLocaleString()); // 콤마 추가해서 출력
            },
          }
        );
      });
    });

    // canvas
    Chart.register(ChartDataLabels);

    // ✅ 중앙 원형 마커 플러그인 (안쪽 점 제거됨)
    const CirclePlugin = {
      id: "drawCircles",
      afterDatasetDraw(chart, args) {
        const { ctx } = chart;
        const meta = args.meta;
        const isMobile = window.innerWidth <= 768;
        const threshold = isMobile ? 3 : 8;

        meta.data.forEach((bar) => {
          const index = meta.data.indexOf(bar);
          const x = bar.x;
          const y = bar.y + (bar.base - bar.y) / 500;

          // 바깥 원만 그리기
          ctx.beginPath();
          ctx.arc(x, y, isMobile ? 6 : 10, 0, Math.PI * 2);
          ctx.fillStyle = "#fff";
          ctx.fill();
          ctx.lineWidth = 2;
          // ctx.strokeStyle = "#ccc";

          ctx.strokeStyle = index >= threshold ? "#FFE32D" : "#ccc";
          ctx.stroke();

          // ❌ 안쪽 점 제거됨
        });
      },
    };

    const ctx = document.getElementById("canvas").getContext("2d");
    const isMobile = window.innerWidth <= 768;
    const fullLabels = ["2016", "2017", "2018", "2019", "2020", "2021", "2022", "2023", "2024(e)", "2025(f)"];
    const fullData = [0.4, 5, 35, 230, 470, 690, 1450, 2010, 3090, 4000];
    // ✅ 모바일이면 앞 5개만 보여주기
    const labels = isMobile ? fullLabels.slice(5, 10) : fullLabels;
    const data = isMobile ? fullData.slice(5, 10) : fullData;

    new Chart(ctx, {
      type: "bar",
      data: {
        // labels: ["2016", "2017", "2018", "2019", "2020", "2021", "2022", "2023", "2024(e)", "2025(f)"],
        labels: labels,
        datasets: [
          {
            // data: [0.4, 5, 35, 230, 470, 690, 1450, 2010, 3090, 4000],
            data: data,
            backgroundColor: function (context) {
              const index = context.dataIndex;
              const { ctx, chartArea } = context.chart;
              if (!chartArea) return null;

              // ✅ 2024~2025: 노랑 계열 그라데이션 (하단 밝음 → 상단 진함)
              if (!isMobile && index >= 8) {
                const gradient = ctx.createLinearGradient(0, chartArea.bottom, 0, chartArea.top);
                gradient.addColorStop(0, "#FFDD0000"); // 하단: 밝은 노랑
                // gradient.addColorStop(0.5, "#FFDD00"); // 중간
                gradient.addColorStop(1, "#FFDD00"); // 상단: 진한 주황 노랑
                return gradient;
              } else if (isMobile && index >= 3) {
                const gradient = ctx.createLinearGradient(0, chartArea.bottom, 0, chartArea.top);
                gradient.addColorStop(0, "#FFDD0000"); // 하단: 밝은 노랑
                // gradient.addColorStop(0.5, "#FFDD00"); // 중간
                gradient.addColorStop(1, "#FFDD00"); // 상단: 진한 주황 노랑
                return gradient;
              }
              // ✅ 2016~2023: 회색 그라데이션 (하단 밝음 → 상단 진함)
              const grayGradient = ctx.createLinearGradient(0, chartArea.bottom, 0, chartArea.top);
              grayGradient.addColorStop(0, "#D7D7D700"); // 하단: 연회색
              grayGradient.addColorStop(0.2, "#D7D7D7"); // 하단: 연회색
              grayGradient.addColorStop(1, "#D7D7D7"); // 상단: 진회색
              return grayGradient;
            },
            borderRadius: {
              topLeft: 100,
              topRight: 100,
              bottomLeft: 0,
              bottomRight: 0,
            },
            borderSkipped: false,
          },
        ],
      },
      options: {
        layout: {
          padding: {
            top: 30,
          },
        },
        plugins: {
          legend: { display: false },
          tooltip: {
            enabled: false, // 툴팁 비활성화
          },
          datalabels: {
            anchor: "end",
            align: "end",
            offset: 3,
            color: function (context) {
              const index = context.dataIndex;
              const isMobile = window.innerWidth <= 768;
              if (!isMobile) {
                // ✅ 모바일이 아닐 때
                return index >= 8 ? "#FFCB3B" : "#999";
              } else {
                // ✅ 모바일일 때
                return index >= 3 ? "#FFCB3B" : "#999";
              }
            },
            font: function () {
              const isMobile = window.innerWidth <= 768;
              return {
                weight: "bold",
                size: isMobile ? 14 : 20,
                family: "'Pretendard'",
              };
            },
            formatter: (value) => value + "억",
          },
        },
        scales: {
          y: { display: false },
          x: {
            ticks: {
              color: function (context) {
                const index = context.index;
                const isMobile = window.innerWidth <= 768;

                if (!isMobile) {
                  return index >= 8 ? "#FFCB3B" : "#999";
                } else {
                  return index >= 3 ? "#FFCB3B" : "#999";
                }
              },
              font: function () {
                const isMobile = window.innerWidth <= 768;
                return {
                  size: isMobile ? 12 : 16,
                  family: "'Pretendard'",
                };
              },
              padding: 16,
            },
            grid: { display: false },
          },
        },
      },
      plugins: [ChartDataLabels, CirclePlugin],
    });
    window.addEventListener("resize", () => {
      location.reload(); // 가장 간단한 방법: 새로고침
    });
  </script>
</html>
